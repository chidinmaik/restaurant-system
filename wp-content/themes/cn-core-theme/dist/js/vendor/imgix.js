!function(){function t(){var o,i,a,s;function l(t,e,n,r){var e=e[n],o=parseFloat(e),e=e.split(/\d/)[0];return r=null!=r?r:/%|em/.test(e)&&t.parentElement?l(t.parentElement,t.parentElement.currentStyle,"fontSize",null):16,n="fontSize"==n?r:/width/i.test(n)?t.clientWidth:t.clientHeight,"em"==e?o*r:"in"==e?96*o:"pt"==e?96*o/72:"%"==e?o/100*n:o}function u(t,e){var n="border"==e?"Width":"",r=e+"Top"+n,o=e+"Right"+n,i=e+"Bottom"+n,n=e+"Left"+n;t[e]=(t[r]==t[o]==t[i]==t[n]?[t[r]]:t[r]==t[i]&&t[n]==t[o]?[t[r],t[o]]:t[n]==t[o]?[t[r],t[o],t[i]]:[t[r],t[o],t[i],t[n]]).join(" ")}function e(t){var e=t.currentStyle,n=this,r=l(t,e,"fontSize",null);for(property in e)/width|height|margin.|padding.|border.+W/.test(property)&&"auto"!==n[property]?n[property]=l(t,e,property,r)+"px":"styleFloat"===property?n.float=e[property]:n[property]=e[property];return u(n,"margin"),u(n,"padding"),u(n,"border"),n.fontSize=r+"px",n}Object.freeze||(Object.freeze=function(t){return t}),Array.prototype.filter&&"findAll"!=Array.prototype.filter.name||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r,o=[],i=2<=arguments.length?arguments[1]:void 0,a=0;a<n;a++)a in e&&(r=e[a],t.call(i,r,a,e))&&o.push(r);return o}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,o;if(null==this)throw new TypeError(" this is null or not defined");var i,a=Object(this),s=a.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(n=e),r=new Array(s),o=0;o<s;)o in a&&(i=a[o],i=t.call(n,i,o,a),r[o]=i),o++;return r}),document.querySelectorAll||(document.querySelectorAll=function(t){var e,n=document.createElement("style"),r=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=t+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)(e=document._qsa.shift()).style.removeAttribute("x-qsa"),r.push(e);return document._qsa=null,r}),document.querySelector||(document.querySelector=function(t){t=document.querySelectorAll(t);return t.length?t[0]:null}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),s=(a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,n,r=[];for(e in t)o.call(t,e)&&r.push(e);if(i)for(n=0;n<s;n++)o.call(t,a[n])&&r.push(a[n]);return r})),"getComputedStyle"in window||(window.getComputedStyle=(window,e.prototype={constructor:e,getPropertyPriority:function(){},getPropertyValue:function(t){return this[t]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},function(t){return new e(t)}))}"undefined"!=typeof window&&t();var d={version:"2.2.4"},n=("undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=d:exports).imgix=d:this.imgix=d,"imgix-usable");function p(t){return!isNaN(parseFloat(t))&&isFinite(t)}d.isImageElement=function(t){return t&&t.tagName&&"img"===t.tagName.toLowerCase()},d.setElementImageAfterLoad=function(e,n,r){var o=new Image;o.onload=o.onerror=function(){var t=d.isImageElement(e);t&&(e.onload=o.onerror=function(){"function"==typeof r&&r(e,n)}),d.setElementImage(e,n),t||"function"==typeof r&&r(e,n)},e.hasAttribute("crossorigin")&&o.setAttribute("crossorigin",e.getAttribute("crossorigin")),o.src=n},d.setElementImage=function(t,e){var n;return!!t&&(d.isImageElement(t)?(t.src!==e&&(t.src=e),!0):(n=d.getBackgroundImage(t))!==e&&(n?t.style.cssText=t.style.cssText.replace(n,e):document.addEventListener?t.style.backgroundImage="url("+e+")":t.style.cssText="background-image:url("+e+")",!0))},d.getEmptyImage=function(){return d.versionifyUrl("https://assets.imgix.net/pixel.gif")},d.getElementImage=function(t){return d.isImageElement(t)?t.src:d.getBackgroundImage(t)},d.getBackgroundImage=function(t){var e;return window.getComputedStyle?e=window.getComputedStyle(t):document.documentElement.currentStyle&&(e=t.currentStyle),e&&e.backgroundImage||(e=t.style),(t=/\burl\s*\(\s*["']?([^"'\r\n,]+)["']?\s*\)/gi.exec(e.backgroundImage))&&1<t.length?t[1]:""},d.getElementsWithImages=function(){return d.markElementsWithImages(),document.querySelectorAll("."+n)},d.hasImage=function(t){var e=t.style.cssText&&t.style.cssText.toLowerCase();return t&&(d.isImageElement(t)||-1!==e.indexOf("background-image"))},d.markElementsWithImages=function(){for(var t=document.getElementsByTagName("*"),e=0,n=t.length;e<n;e++)d.hasImage(t[e])&&d.setImgixClass(t[e])},d.hasClass=function(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")},d.setImgixClass=function(t){var e;return d.hasClass(t,n)||(e=d.getXPathClass(d.getElementTreeXPath(t)),t.classList.add(e),t.classList.add(n)),d.getImgixClass(t)},d.getImgixClass=function(t){if(d.hasClass(t,n))return t.className.match(/imgix-el-[^\s]+/)[0]},d.getXPathClass=function(t){t=t?d.hashCode(t):(new Date).getTime().toString(36);return"imgix-el-"+t},d.getElementImageSize=function(t){var e=0,n=0,n=d.isImageElement(t)?(e=t.naturalWidth,t.naturalHeight):(e=d.helpers.extractInt(d.getCssProperty(t,"width")),d.helpers.extractInt(d.getCssProperty(t,"height")));return{width:e,height:n}},d.getCssPropertyById=function(t,e){t=document.getElementById(t);return d.helpers.getElementCssProperty(t,e)},d.getCssProperty=function(t,e){return d.helpers.getElementCssProperty(t,e)},d.getCssPropertyBySelector=function(t,e){t=document.querySelector(t);return d.helpers.getElementCssProperty(t,e)},d.instanceOfImgixURL=function(t){return t&&"[object imgixURL]"===t.toString()},d.setGradientOnElement=function(t,e,n){for(var r=[],o=(void 0===n?r=["transparent","transparent"]:("rgba"===(n=d.hexToRGB(n)).slice(0,4)?r.push(n):r.push(d.applyAlphaToRGB(n,.5)),r.push(d.applyAlphaToRGB(n,0))),["-ms-linear-gradient(top, "+r[0]+" 0%, "+r[1]+" 100%),-ms-linear-gradient(bottom left, "+e[2]+" 0%,"+e[4]+" 25%, "+e[6]+" 50%, "+e[8]+" 75%,"+e[10]+" 100%)","-webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, "+r[1]+"), color-stop(100%, "+r[0]+")),-webkit-gradient(linear, 0% 100%, 100% 0%, color-stop(0%, "+e[2]+"), color-stop(25%, "+e[4]+"), color-stop(50%, "+e[6]+"), color-stop(75%, "+e[7]+"), color-stop(100%, "+e[10]+"))","-webkit-linear-gradient(top, "+r[0]+", "+r[1]+" 100%),-webkit-linear-gradient(bottom left, "+e[2]+", "+e[4]+", "+e[6]+","+e[8]+")","-moz-linear-gradient(top, "+r[0]+", "+r[1]+" ),-moz-linear-gradient(bottom left, "+e[2]+", "+e[4]+", "+e[6]+","+e[8]+")","-o-linear-gradient(top, "+r[0]+","+r[1]+"),-o-linear-gradient(bottom left, "+e[2]+", "+e[4]+", "+e[6]+","+e[8]+")","linear-gradient(top, "+r[0]+","+r[1]+"),linear-gradient(bottom left, "+e[2]+", "+e[4]+", "+e[6]+","+e[8]+")"]),i=0;i<o.length;i++)t.style.backgroundImage=o[i]},d.isDef=function(t){return void 0!==t},d.hashCode=function(t){for(var e=2166136261,n=0,r=t.length;n<r;n++)e=(e^=t.charCodeAt(n))+((e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24));return("0000000"+(e>>>0).toString(16)).substr(-8)},d.helpers={debouncer:function(n,r){var o;return function(){var t=this,e=arguments;window.clearTimeout(o),o=window.setTimeout(function(){o=null,n.apply(t,e)},r)}},throttler:function(n,r){var o;return function(){var t=this,e=arguments;o=o||window.setTimeout(function(){o=null,n.apply(t,e)},r)}},urlParser:function(t,e){var n=e||window.location.toString();if(!t)return n;t=t.toString(),"//"===n.substring(0,2)?n="http:"+n:1===n.split("://").length&&(n="http://"+n);var r={auth:""},o=(1===(o=(e=n.split("/"))[2].split("@")).length?o[0]:(r.auth=o[0],o[1])).split(":"),o=(r.protocol=e[0],r.hostname=o[0],r.port=o[1]||("https"===r.protocol.split(":")[0].toLowerCase()?"443":"80"),r.pathname=(3<e.length?"/":"")+e.slice(3,e.length).join("/").split("?")[0].split("#")[0],r.pathname),e=("/"===o.charAt(o.length-1)&&(o=o.substring(0,o.length-1)),r.hostname),i=e.split("."),o=o.split("/");if("hostname"===t)return e;if("domain"===t)return/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(e)?e:i.slice(-2).join(".");if("sub"===t)return i.slice(0,i.length-2).join(".");if("port"===t)return r.port;if("protocol"===t)return r.protocol.split(":")[0];if("auth"===t)return r.auth;if("user"===t)return r.auth.split(":")[0];if("pass"===t)return r.auth.split(":")[1]||"";if("path"===t)return r.pathname;if("."===t.charAt(0)){if(p(t=t.substring(1)))return i[(t=parseInt(t,10))<0?i.length+t:t-1]||""}else{if(p(t))return o[(t=parseInt(t,10))<0?o.length+t:t]||"";if("file"===t)return o.slice(-1)[0];if("filename"===t)return o.slice(-1)[0].split(".")[0];if("fileext"===t)return o.slice(-1)[0].split(".")[1]||"";if("?"===t.charAt(0)||"#"===t.charAt(0)){var a,s=n;if("?"===t.charAt(0)?s=(s.split("?")[1]||"").split("#")[0]:"#"===t.charAt(0)&&(s=s.split("#")[1]||""),!t.charAt(1))return s;t=t.substring(1);for(var l=0,u=(s=s.split("&")).length;l<u;l++)if((a=s[l].split("="))[0]===t)return a[1]||"";return null}}return""},mergeObject:function(){for(var t,e={},n=0,r=arguments.length;n<r;n++)for(t in arguments[n])arguments[n].hasOwnProperty(t)&&(e[t]=arguments[n][t]);return e},pixelRound:function(t,e){return Math.ceil(t/e)*e},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getWindowDPR:function(){var t,e=window.devicePixelRatio||1;return e=e%1!=0?1<(t=(t=e.toString()).split(".")[1]).length&&"0"!==t.slice(1,2)?e.toFixed(2):e.toFixed(1):e},getWindowWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)||1024},getWindowHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)||768},getImgSrc:function(t){return t.getAttribute("data-src")||t.getAttribute("src")},calculateElementSize:function(t){var e={width:t.offsetWidth,height:t.offsetHeight};if(null===t.parentNode||t===document.body)return e.width=this.getWindowWidth(),e.height=this.getWindowHeight(),e;if(0!==e.width||0!==e.height)return t.alt&&!t.fluid?(t.fluid=!0,this.calculateElementSize(t.parentNode)):e;var n,r={},o={position:"absolute",visibility:"hidden",display:"block"};for(n in o)o.hasOwnProperty(n)&&(r[n]=t.style[n],t.style[n]=o[n]);for(n in e={width:t.offsetWidth,height:t.offsetHeight},o)o.hasOwnProperty(n)&&(t.style[n]=r[n]);return 0===e.width||0===e.height?this.calculateElementSize(t.parentNode):e},isReallyObject:function(t){return t&&"object"==typeof t&&"[object Object]"===t.toString()},isFluidSet:function(t){return t&&"object"==typeof t&&"[object FluidSet]"===t.toString()},extractInt:function(t){return void 0===t?0:"number"==typeof t?t:parseInt(t.replace(/\D/g,""),10)||0},camelize:function(t){return t.replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})},getElementCssProperty:function(t,e){return window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):t&&t.style&&e?t.style[this.camelize(e)]:""},matchesSelector:function(t,e){e=(t.parentNode||document).querySelectorAll(e);return-1<Array.prototype.slice.call(e).indexOf(t)},warn:function(t){window.console&&window.console.warn(t)}},d.URL=function(t,e){this._autoUpdateSel=null,this._autoUpdateCallback=null,t&&"//"===t.slice(0,2)&&window&&window.location&&(t=window.location.protocol+t),this.setUrl(t),"object"==typeof e&&this.setParams(e),this.paramAliases={}},d.URL.prototype.attachGradientTo=function(r,o,i){this.getColors(16,function(t){if(t&&t.length<9)d.helpers.warn("not enough colors to create a gradient"),i&&"function"==typeof i&&i(!1);else{if("string"==typeof r){var e=document.querySelectorAll(r);if(e&&0<e.length)for(var n=0;n<e.length;n++)d.setGradientOnElement(e[n],t,o)}else d.setGradientOnElement(r,t,o);i&&"function"==typeof i&&i(!0)}})},d.URL.prototype.attachImageTo=function(t,e){if("string"==typeof t){var n=document.querySelectorAll(t);if(n&&0<n.length)for(var r=0;r<n.length;r++)d.setElementImageAfterLoad(n[r],this.getUrl(),e)}else d.setElementImageAfterLoad(t,this.getUrl(),e)},d.createParamString=function(){return new d.URL("")},d.updateVersion={};var a={},u=(d.URL.prototype.getColors=function(t,n){var r,e,o=new d.URL(this.getUrl());function i(){var e=new XMLHttpRequest;e.onreadystatechange=function(){var t;4===e.readyState&&(t=200===e.status?JSON.parse(e.response):{colors:[{red:1,green:1,blue:1}]},a[r]=function(t){var e,n,r=[];if(t&&t.colors){for(e=0;e<t.colors.length;e++)n=[Math.round(255*t.colors[e].red),Math.round(255*t.colors[e].green),Math.round(255*t.colors[e].blue)],r.push("rgb("+n.join(", ")+")");return r}}(t),n(a[r]))},e.open("get",r,!0),e.send()}"function"==typeof t&&(t="number"==typeof n?(e=n,n=t,e):(n=t,10)),o.setParams({palette:"json",colors:t}),r=o.getUrl(),a.hasOwnProperty(r)?n&&n(a[r]):i()},d.URL.prototype._handleAutoUpdate=function(){var a=this,s=0,l=0,u=this._autoUpdateSel,p={};function r(t,r){var e,o,i;r in p||(p[r]=[],e=new Image,o=d.updateVersion[u],i=(new Date).getTime(),e.onload=e.onerror=function(){if(t=o,u===a._autoUpdateSel&&t===d.updateVersion[u])for(var t,e,n=0;n<p[r].length;n++)d.setElementImage(p[r][n],r),l++,"function"==typeof a._autoUpdateCallback&&(e={element:p[r][n],isComplete:l===s,percentComplete:l/s*100,totalComplete:l,loadTime:(new Date).getTime()-i,total:s},a._autoUpdateCallback(e))},t.hasAttribute("crossorigin")&&e.setAttribute("crossorigin",t.getAttribute("crossorigin")),e.src=r),p[r].push(t)}function t(t){var e=d.getElementImage(t),n=e;e&&-1!==e.indexOf("?")&&(n=e.split("?")[0]),a.getBaseUrl()?r(t,a.getUrl()):n&&a.getQueryString()?r(t,n+"?"+a.getQueryString()):l++}if(d.isDef(d.updateVersion[u])?d.updateVersion[u]++:d.updateVersion[u]=1,null!==this._autoUpdateSel){var e=document.querySelectorAll(this._autoUpdateSel),s=e.length;if(e&&1===s)t(e[0]);else for(var n=0;n<s;n++)t(e[n])}},d.URL.prototype.autoUpdateImg=function(t,e){this._autoUpdateSel=t,this._autoUpdateCallback=e,this._handleAutoUpdate()},d.URL.prototype.setUrl=function(t){t&&"string"==typeof t&&0!==t.length||(t=d.getEmptyImage()),this.urlParts=d.parseUrl(t)},d.URL.prototype.setURL=function(t){return this.setUrl(t)},d.URL.prototype.getURL=function(){return this.getUrl()},d.URL.prototype.toString=function(){return"[object imgixURL]"},d.URL.prototype.getUrl=function(){var t=d.buildUrl(this.urlParts);return t&&0!==t.length?t:d.getEmptyImage()},d.URL.prototype.removeParam=function(t){this.urlParts.paramValues.hasOwnProperty(t)&&(delete this.urlParts.paramValues[t],this.urlParts.params=Object.keys(this.urlParts.paramValues))},d.URL.prototype.clearThenSetParams=function(t){this.clearParams(!1),this.setParams(t)},d.URL.prototype.clearParams=function(t){for(var e in t=!d.isDef(t)||t,this.urlParts.paramValues)this.urlParts.paramValues.hasOwnProperty(e)&&this.removeParam(e);t&&this._handleAutoUpdate()},d.URL.prototype.setParams=function(t,e){if(d.instanceOfImgixURL(t))d.helpers.warn("setParams warning: dictionary of imgix params expectd. imgix URL instance passed instead");else{for(var n in t)t.hasOwnProperty(n)&&this.setParam(n,t[n],e,!0);this._handleAutoUpdate()}},d.URL.prototype.setParam=function(t,e,n,r){return t=t.toLowerCase(),n=!d.isDef(n)||n,r=!!d.isDef(r)&&r,"col"!==t&&"colorize"!==t&&"blend"!==t&&"mono"!==t&&"monochrome"!==t||"rgb"===e.slice(0,3)&&(e=d.rgbToHex(e)),!n&&this.urlParts.paramValues[t]||(d.isDef(e)&&null!==e&&0!==e.length?(-1===this.urlParts.params.indexOf(t)&&this.urlParts.params.push(t),decodeURIComponent(e)===e&&(e=encodeURIComponent(e)),this.urlParts.paramValues[t]=String(e),r||this._handleAutoUpdate()):this.removeParam(t)),this},d.URL.prototype.getParam=function(t){var e;return"mark"===t||"mask"===t?(e=this.urlParts.paramValues[t],decodeURIComponent(e)!==e?decodeURIComponent(e):e):this.urlParts.paramValues[t]},d.URL.prototype.getParams=function(){return this.urlParts.paramValues||{}},d.URL.prototype.getBaseUrl=function(){var t=this.getUrl();return(t=-1!==t.indexOf("?")?this.getUrl().split("?")[0]:t)!==window.location.href?t:""},d.URL.prototype.getQueryString=function(){return-1!==this.getUrl().indexOf("?")?this.getUrl().split("?")[1]:""},d.parseUrl=function(t){for(var e=["protocol","hostname","port","path","?","#","hostname"],n=["protocol","hostname","port","pathname","search","hash","host"],r={},o=0;o<n.length;o++)r[n[o]]=d.helpers.urlParser(e[o],t);var i=r.search;if(r.paramValues={},r.params=[],r.baseUrl=t.split("?")[0],i&&0<i.length)for(var a=(i="?"===i[0]?i.substr(1,i.length):i).split("&"),s=0;s<a.length;s++){var l=a[s].split("=");l[0]&&l[0].length&&"s"!==l[0]&&(r.paramValues[l[0]]=2===l.length?l[1]:"",-1===r.params.indexOf(l[0]))&&r.params.push(l[0])}return r},d.buildUrl=function(t){var e=t.protocol+"://"+t.host;if(null!==t.port&&"80"!==t.port&&"443"!==t.port&&(e+=":"+t.port),e+=t.pathname,d.versionifyUrl(t),0<t.params.length){t.params=t.params.map(function(t){return t.toLowerCase()}),t.params=t.params.filter(function(t,e,n){return n.indexOf(t)===e}),t.params=t.params.sort(function(t,e){return t<e?-1:e<t?1:0});for(var n=[],r=0;r<t.params.length;r++)0<t.paramValues[t.params[r]].length&&n.push(t.params[r]+"="+t.paramValues[t.params[r]]);-1!==e.indexOf("?")&&(e=e.split("?")[0]),e+="?"+n.join("&")}return e},d.versionifyUrl=function(t){return"string"==typeof t?d.versionifyStringUrl(t):d.versionifyParsedUrl(t)},d.versionifyStringUrl=function(t){var t=t.split("?"),e=t[0]+"?ixjsv="+d.version;return t[1]&&(e+="&"+t[1]),e},{fluidClass:"imgix-fluid",updateOnResize:!0,updateOnResizeDown:!(d.versionifyParsedUrl=function(t){var e="ixjsv";return t.paramValues[e]||t.params.push(e),t.paramValues[e]=d.version,t}),updateOnPinchZoom:!1,highDPRAutoScaleQuality:!0,onChangeParamOverride:null,autoInsertCSSBestPractices:!1,fitImgTagToContainerWidth:!0,fitImgTagToContainerHeight:!1,ignoreDPR:!1,pixelStep:10,debounce:200,lazyLoad:!1,lazyLoadColor:null,lazyLoadOffsetVertical:20,lazyLoadOffsetHorizontal:20,lazyLoadScrollContainers:["undefined"==typeof window?null:window],throttle:200,maxHeight:5e3,maxWidth:5e3,onLoad:null});d.FluidSet=function(t){d.helpers.isReallyObject(t)?this.options=d.helpers.mergeObject(u,t):this.options=d.helpers.mergeObject(u,{}),this.lazyLoadOffsets={t:Math.max(this.options.lazyLoadOffsetVertical,0),b:Math.max(this.options.lazyLoadOffsetVertical,0),l:Math.max(this.options.lazyLoadOffsetHorizontal,0),r:Math.max(this.options.lazyLoadOffsetHorizontal,0)},this.namespace=Math.random().toString(36).substring(7),this.windowResizeEventBound=!1,this.windowScrollEventBound=!1,this.windowLastWidth=0,this.windowLastHeight=0},d.FluidSet.prototype.updateSrc=function(n,t){if(n.hasAttribute("src")&&""===n.getAttribute("src")&&n.setAttribute("src",d.getEmptyImage()),n.offsetWidth||n.offsetHeight||n.getClientRects().length){var r,t=this.getImgDetails(n,t||1),e=t.url,o=t.width,t=t.height;if(this.options.lazyLoad){var i,a,s,l=n.getBoundingClientRect(),u=0-this.lazyLoadOffsets.l,p=0-this.lazyLoadOffsets.t,c=(window.innerHeight||document.documentElement.clientHeight)+this.lazyLoadOffsets.b,h=(window.innerWidth||document.documentElement.clientWidth)+this.lazyLoadOffsets.r;if(l.top>c||l.left>h||l.top+t<p||l.left+o<u)return void(!n.fluidLazyColored&&this.options.lazyLoadColor&&(n.fluidLazyColored=1,a=typeof(i=this).options.lazyLoadColor,(s=new d.URL(d.helpers.getImgSrc(n))).getColors(16,function(t){var e;t?(e=null,"boolean"==a?e=t[0]:"number"==a&&i.options.lazyLoadColor<t.length?e=t[i.options.lazyLoadColor]:"function"==a&&(e=i.options.lazyLoadColor(n,t)),null!==e&&(d.isImageElement(n)&&n.parentNode&&"body"!==n.parentNode.tagName.toLowerCase()?n.parentNode.style.backgroundColor=e:n.style.backgroundColor=e)):d.helpers.warn("No colors found for",s.getURL(),"for element",n)})))}n.lastWidth=n.lastWidth||0,n.lastHeight=n.lastHeight||0,!1===this.options.updateOnResizeDown&&n.lastWidth>=o&&n.lastHeight>=t||(n.fluidUpdateCount||(n.fluidUpdateCount=0),r=function(){},this.options.onLoad&&"function"==typeof this.options.onLoad&&(r=this.options.onLoad),d.setElementImageAfterLoad(n,e,function(t,e){t.fluidUpdateCount=parseInt(t.fluidUpdateCount,10)+1,r(t,e)}),n.lastWidth=o,n.lastHeight=t)}},d.FluidSet.prototype.getImgDetails=function(t,e){if(t){var n,r=d.helpers.getWindowDPR(),o=this.options.pixelStep,i=d.helpers.calculateElementSize(d.isImageElement(t)?t.parentNode:t),a=d.helpers.pixelRound(i.width*e,o),i=d.helpers.pixelRound(i.height*e,o),s=(t.url||(t.url=new d.URL(d.helpers.getImgSrc(t))),t.url.setParams({h:"",w:""}),a=Math.min(a,this.options.maxWidth),i=Math.min(i,this.options.maxHeight),1===r||this.options.ignoreDPR||t.url.setParam("dpr",r),this.options.highDPRAutoScaleQuality&&1<r&&t.url.setParam("q",Math.min(Math.max(parseInt(100/r,10),30),75)),this.options.fitImgTagToContainerHeight&&this.options.fitImgTagToContainerWidth&&t.url.setParam("fit","crop"),"crop"===t.url.getParam("fit")?(0<i&&(!d.isImageElement(t)||d.isImageElement(t)&&this.options.fitImgTagToContainerHeight)&&t.url.setParam("h",i),0<a&&(!d.isImageElement(t)||d.isImageElement(t)&&this.options.fitImgTagToContainerWidth)&&t.url.setParam("w",a)):i<=a?t.url.setParam("w",a):t.url.setParam("h",i),!d.isImageElement(t)&&this.options.autoInsertCSSBestPractices&&t.style&&(t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundPosition="50% 50%"),{});for(n in s=null!==this.options.onChangeParamOverride&&"function"==typeof this.options.onChangeParamOverride?this.options.onChangeParamOverride(a,i,t.url.getParams(),t):s)s.hasOwnProperty(n)&&t.url.setParam(n,s[n]);return{url:t.url.getURL(),width:a,height:i}}},d.FluidSet.prototype.toString=function(){return"[object FluidSet]"},d.FluidSet.prototype.reload=function(){d.fluid(this),this.windowLastWidth=d.helpers.getWindowWidth(),this.windowLastHeight=d.helpers.getWindowHeight()},d.FluidSet.prototype.attachGestureEvent=function(t){var e=this;t.addEventListener&&!t.listenerAttached&&(t.addEventListener("gestureend",function(t){e.updateSrc(this,t.scale)},!1),t.addEventListener("gesturechange",function(){e.updateSrc(this)},!1),t.listenerAttached=!0)};var r,e,o,i,s,l={},c={};function h(){var t;for(s=!0;t=o.shift();)t()}d.FluidSet.prototype.attachScrollListener=function(){var t,e=this;l[this.namespace]=d.helpers.throttler(function(){e.reload()},this.options.throttle);for(var n=document.addEventListener?(t="addEventListener","scroll"):(t="attachEvent","onscroll"),r=0;r<this.options.lazyLoadScrollContainers.length;r++)this.options.lazyLoadScrollContainers[r][t](n,l[this.namespace],!1);this.windowScrollEventBound=!0},d.FluidSet.prototype.attachWindowResizer=function(){var t=this;c[this.namespace]=d.helpers.debouncer(function(){this.windowLastWidth===d.helpers.getWindowWidth()&&this.windowLastHeight===d.helpers.getWindowHeight()||t.reload()},this.options.debounce),window.addEventListener?window.addEventListener("resize",c[this.namespace],!1):window.attachEvent&&window.attachEvent("onresize",c[this.namespace]),this.windowResizeEventBound=!0},d.fluid=function(){var t,e,n,r,o=0<arguments.length&&1===arguments[0].nodeType?(t=arguments[0],arguments[1]):arguments[0];if(null!==o){if(d.helpers.isReallyObject(o)){for(var i=Object.keys(o),a=Object.keys(u),s=0;s<i.length;s++)-1===a.indexOf(i[s])&&d.helpers.warn("'"+i[s]+"' is not a valid imgix.fluid config option. See https://github.com/imgix/imgix.js/blob/master/docs/api.md#imgix.fluid for a list of valid options.");e=d.helpers.mergeObject(u,o),n=new d.FluidSet(e),o=null}else d.helpers.isFluidSet(o)?e=(n=o).options:(e=d.helpers.mergeObject(u,{}),n=new d.FluidSet(e));o&&!d.helpers.isFluidSet(o)?r=Array.isArray(o)?o:[o]:(o="."===(o=e.fluidClass.toString()).slice(0,1)?o:"."+o,r=(t||document).querySelectorAll(o),t&&d.helpers.matchesSelector(t,o)&&(r=Array.prototype.slice.call(r)).unshift(t));for(var l=0;l<r.length;l++)null!==r[l]&&(e.updateOnPinchZoom&&n.attachGestureEvent(r[l]),n.updateSrc(r[l]));return e.lazyLoad&&!n.windowScrollEventBound&&n.attachScrollListener(),e.updateOnResize&&!n.windowResizeEventBound&&n.attachWindowResizer(),n}},"undefined"!=typeof window&&(d.onready=(o=[],i=document.documentElement.doScroll,s=(i?/^loaded|^c/:/^loaded|c/).test(document.readyState),document.addEventListener?(e=function(){document.removeEventListener("DOMContentLoaded",e,!1),h()},document.addEventListener("DOMContentLoaded",e,!1)):document.attachEvent&&(e=function(){/^c/.test(document.readyState)&&(document.detachEvent("onreadystatechange",e),h())},document.attachEvent("onreadystatechange",e)),r=i?function(e){if(window.self!=window.top)s?e():o.push(e);else{try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(function(){r(e)},50)}e()}}:function(t){s?t():o.push(t)})),d.rgbToHex=function(t){return t.split(",").map(function(t){return d.componentToHex(parseInt(t.replace(/\D/g,"")))}).join("")},d.componentToHex=function(t){t=t.toString(16);return 1===t.length?"0"+t:t},d.getColorBrightness=function(t){var e,n;return t?(t=(t="#"===t.slice(0,1)?d.hexToRGB(t):t).replace(/[^0-9,]+/g,"").split(","),e=parseInt(t[0],10),n=parseInt(t[1],10),t=parseInt(t[2],10),Math.sqrt(e*e*.241+n*n*.691+t*t*.068)):0},d.applyAlphaToRGB=function(t,e){var n="rgba"!==t.slice(0,4),t=(t=t.split(",")).map(function(t){return parseInt(t.replace(/\D/g,""),10)});return n?t.push(e):4===t.length&&(t[3]=e),"rgba("+t.join(", ")+")"},d.hexToRGB=function(t){if(t)if("#"===t.slice(0,1))t=t.slice(1,t.length);else if("rgb"===t.slice(0,3))return t;var e=0,n=0,r=0;function o(t){return(t+t).toString()}return 3===t.length?(e=parseInt(o(t.slice(0,1)),16),n=parseInt(o(t.slice(1,2)),16),r=parseInt(o(t.slice(2,3)),16)):6===t.length?(e=parseInt(t.slice(0,2),16),n=parseInt(t.slice(2,4),16),r=parseInt(t.slice(4,6),16)):d.helpers.warn("invalid hex color:",t),"rgb("+e+", "+n+", "+r+")"},d.getElementByXPathClassName=function(t){return document.querySelector("."+d.getXPathClass(t))},d.getElementImageByXPathClassName=function(t){return d.getElementImage(d.getElementByXPathClassName(t))},d.getElementTreeXPath=function(t){for(var e=[];t&&t.nodeType===Node.ELEMENT_NODE;t=t.parentNode){for(var n=0,r=t.previousSibling;r;r=r.previousSibling)r.nodeType!==Node.DOCUMENT_TYPE_NODE&&r.nodeName===t.nodeName&&++n;var o=(t.prefix?t.prefix+":":"")+t.localName;e.splice(0,0,o+(n?"["+(n+1)+"]":""))}return e.length?"/"+e.join("/"):null},"function"==typeof define&&define.amd&&define("imgix",[],function(){return d})}.call(this);