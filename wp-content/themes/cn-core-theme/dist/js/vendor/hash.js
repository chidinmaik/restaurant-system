!function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity")):e(t.Flickity)}(window,function(t){"use strict";t.createMethods.push("_createHash");var e=t.prototype,n=(e._createHash=function(){this.options.hash&&(this.connectedHashLinks=[],this.onHashLinkClick=function(t){t.preventDefault(),this.selectCell(t.currentTarget.hash),history.replaceState(null,"",t.currentTarget.hash)}.bind(this),this.on("activate",this.activateHash),this.on("deactivate",this.deactivateHash))},e.activateHash=function(){var t;this.on("change",this.onChangeHash),void 0===this.options.initialIndex&&location.hash&&(t=this.queryCell(location.hash))&&(this.options.initialIndex=this.getCellSlideIndex(t)),this.connectHashLinks()},e.deactivateHash=function(){this.off("change",this.onChangeHash),this.disconnectHashLinks()},e.onChangeHash=function(){var t=this.selectedElement.id;t&&history.replaceState(null,"","#"+t)},e.connectHashLinks=function(){for(var t=document.querySelectorAll("a"),e=0;e<t.length;e++)this.connectHashLink(t[e])},document.createElement("a"));return e.connectHashLink=function(t){t.hash&&(n.href=t.href,n.pathname==location.pathname)&&this.queryCell(t.hash)&&(t.addEventListener("click",this.onHashLinkClick),this.connectedHashLinks.push(t))},e.disconnectHashLinks=function(){this.connectedHashLinks.forEach(function(t){t.removeEventListener("click",this.onHashLinkClick)},this),this.connectedHashLinks=[]},t});